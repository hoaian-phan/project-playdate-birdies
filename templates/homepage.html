{% extends 'base.html' %}

{% block title %} Welcome to Playdate Birdies {% endblock %}

{% block head %} {% endblock %}

{% block body %}

<main class="ms-3 me-3">
<h1 class="text-center fw-bold"> Welcome to Playdate Birdies - Where Kids Play, Grow and Make Friends</h1>

<div class="row w-100 p-3 ms-3 me-3">
    <div class="col-3 container-fluid rounded-25 position-absolute border border-2 mt-5 bg-white p-3" id="search_box">
        <div>
            <h3 class="search text-center fw-bold">Search for a Playdate</h2>

            <form action="/search">
                <div>
                    <label for="city_zipcode" class="form-label">City or Zipcode</label>
                    <input class="form-control" type="text" name="city_zipcode" placeholder="e.g. 94542 or Hayward" id="city_zipcode">
                </div>
            
                <div>
                    <label for="event_date" class="form-label mt-2">Date</label>
                    <input class="form-control" type="date" name="date" value="{{today}}" id="event_date">
                </div>

                <div>
                    <label for="age" class="form-label mt-2">Age group</label>
                    <select class="form-control" name="age_group" id="age">
                        <option value="">--Select an age group--</option>
                        {% for age in age_groups %}
                        <option value="{{age}}">{{age}}</option> 
                        {% endfor %}
                    </select>
                </div>

                <div>
                    <label for="activity" class="form-label mt-2">Activity</label>
                    <input class="form-control" type="text" name="activity" placeholder="singing" id="activity">
                </div>

                <div class="mt-3 text-center">
                    <input type="submit" value="Search">
                </div>
            </form>
        </div>
    </div>  
    <div class="col-9 container-fluid">
        <image class="img-fluid rounded-25 position-relative float-end m-100 overflow-hidden d-md-none d-lg-block" 
            id="hp_search_bg_image" src="/static/image/Background_images/search_hp_bg.jpeg">
        </image>
    </div>
    
</div>


<div class="host">
    <h3>Host a Playdate</h2>
    Can't find a playdate that fits your schedule? <br>
    Love to organize fun games for your kids and others?<br>
    Want to join a loving community of parent hosts and meet new friends?<br><br>
    <form action="/host">
        <input type="submit" value="Try Hosting">
    </form>
</div>


<div class="recommended">
    <h3>Recommended playdates for you</h2>
    {% if 'user_id' in session and recommendations|length > 0 %}    
        {% for event in recommendations %}
            <div>
                <p> <a href="/attend?event_id={{event.event_id}}"> Title: {{ event.title }} </a></p>
                <p>On {{ event.date }} from {{ event.start_time }} to {{ event.end_time }}</p>
            
                {% if event.location.photo %}
                    <img src={{ event.location.photo }} alt="parkPhoto" />
                {% else %}
                    <img src="/static/image/general_park.jpeg" alt="parkPhoto" />
                {% endif %}
            </div>
        {% endfor %}
    {% else %}
    <div>
        Want to see playdates that fit your interests? Tell us more about you by <a href="/complete_profile">completing your profile.</a>
        </div>
    {% endif %}
</div>

<div id="map" style="display: None"></div>
</main>


{% endblock %}